# ==========================================
# Tawatch Backend Environment Variables
# ==========================================
# Example environment file for Docker deployment.
# Copy this file to .env and customize values for your environment.
# DO NOT commit .env file with real secrets to Git.

# ==========================================
# APPLICATION SETTINGS
# ==========================================

# Application name used in logs and service discovery
APP_NAME=tawatch

# Active Spring profile for environment-specific configuration
SPRING_PROFILES_ACTIVE=docker

# ==========================================
# SERVER CONFIGURATION
# ==========================================

# Host port mapping (for Docker)
HOST_PORT=8080

# Internal server port (should match HOST_PORT for Docker)
SERVER_PORT=8080

# Base context path for API endpoints
SERVER_CONTEXT_PATH=/api/tawatch

# ==========================================
# DATABASE CONFIGURATION (MySQL)
# ==========================================

# Database host (must match the Docker Compose service name, default: 'mysql')
DB_HOST=mysql

# Database port (MySQL default is 3306)
DB_PORT=3306

# Database external port (MySQL default is 3306)
DB_EXTERNAL_PORT=3306

# Database name
DB_NAME=tawatch_db

# Database username
DB_USERNAME=tawatch_user

# Database password (CHANGE THIS in production!)
DB_PASSWORD=password

# Database root password (CHANGE THIS in production!)
DB_ROOT_PASSWORD=password

# Database timezone (Asia/Ho_Chi_Minh for Vietnam)
DB_TIMEZONE=Asia/Ho_Chi_Minh

# Enable SSL for database connection (should be 'true' in production)
DB_USE_SSL=false

# Allow public key retrieval for MySQL authentication
DB_ALLOW_PUBLIC_KEY_RETRIEVAL=true

# ==========================================
# JPA / HIBERNATE SETTINGS
# ==========================================

# Show SQL queries in logs (should be 'false' in production)
JPA_SHOW_SQL=false

# Hibernate dialect (MySQL8Dialect for MySQL 8+)
HIBERNATE_DIALECT=org.hibernate.dialect.MySQL8Dialect

# Add comments to generated SQL
HIBERNATE_SQL_COMMENTS=true

# Batch size for JDBC operations
HIBERNATE_BATCH_SIZE=20

# Optimize insert ordering for batching
HIBERNATE_ORDER_INSERTS=true

# Optimize update ordering for batching
HIBERNATE_ORDER_UPDATES=true

# ==========================================
# FLYWAY MIGRATION SETTINGS
# ==========================================

# Location of migration scripts
FLYWAY_LOCATIONS=classpath:db/migration

# ==========================================
# LOGGING CONFIGURATION
# ==========================================

# Root logger level (affects all logs unless overridden)
LOG_ROOT=INFO

# Application-specific logging level (DEBUG, INFO, WARN, ERROR)
LOG_APP_LEVEL=DEBUG

# Spring Web logging level
LOG_SPRING_WEB=DEBUG

# Hibernate SQL logging level
LOG_HIBERNATE_SQL=DEBUG

# Hibernate parameter binding logging (TRACE shows parameter values - WARNING: may expose sensitive data)
LOG_HIBERNATE_BIND=TRACE

# Flyway migration logging level
LOG_FLYWAY=DEBUG

# ==========================================
# NOTES FOR PRODUCTION DEPLOYMENT
# ==========================================
# 1. Change all passwords to strong, unique values
# 2. Set DB_USE_SSL=true
# 3. Set root logging levels to INFO or WARN
# 4. Consider disabling Hibernate parameter binding (LOG_HIBERNATE_BIND=OFF)
# 5. Use external secret management (Docker secrets, Kubernetes secrets, HashiCorp Vault)